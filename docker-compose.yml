version: "3"

services:
  ts-starter-service:
    image: ts-starter:1.0.0
    build: ./
    deploy:
      replicas: 1
      resources:
        limits:
          cpus: "1"
          memory: 256M
      restart_policy:
        condition: always
    ports:
      - "4000:4000"
    depends_on: 
      - mongodb

  mongodb:
    image: mongo
    volumes:
      - "/data/db:/data/db"
    # environment:
      # MONGO_INITDB_ROOT_USERNAME: root
      # MONGO_INITDB_ROOT_PASSWORD: kramaDb@123
    ports:
      - "27017:27017"